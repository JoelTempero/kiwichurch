<!DOCTYPE html>
<html lang="en-NZ">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <title>Kiwi Church - Welcome to the Table | Christchurch Community Church</title>
    <meta name="title" content="Kiwi Church - Welcome to the Table | Christchurch Community Church">
    <meta name="description" content="Kiwi Church is a network of small group Christian communities in Christchurch, New Zealand. We gather around tables, share meals, and explore faith together. Join us for authentic community and meaningful connection.">
    <meta name="keywords" content="church, Christchurch, New Zealand, Christian community, small groups, faith community, house church, NZ church, South Island church">
    <meta name="author" content="Kiwi Church">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://kiwichurch.org.nz/">

    <!-- Theme & App Meta -->
    <meta name="theme-color" content="#1a3a2f">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Kiwi Church">
    <meta name="application-name" content="Kiwi Church">
    <meta name="msapplication-TileColor" content="#1a3a2f">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kiwichurch.org.nz/">
    <meta property="og:title" content="Kiwi Church - Welcome to the Table">
    <meta property="og:description" content="A network of small group Christian communities in Christchurch, NZ. We gather around tables, share meals, and explore faith together.">
    <meta property="og:image" content="https://kiwichurch.org.nz/images/og-image.jpg">
    <meta property="og:image:alt" content="Kiwi Church community gathering">
    <meta property="og:locale" content="en_NZ">
    <meta property="og:site_name" content="Kiwi Church">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://kiwichurch.org.nz/">
    <meta name="twitter:title" content="Kiwi Church - Welcome to the Table">
    <meta name="twitter:description" content="A network of small group Christian communities in Christchurch, NZ. We gather around tables, share meals, and explore faith together.">
    <meta name="twitter:image" content="https://kiwichurch.org.nz/images/og-image.jpg">

    <!-- Favicon & Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/icon-16.png">
    <link rel="icon" type="image/png" href="icons/icon-192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-192.png">
    <link rel="manifest" href="manifest.json">

    <!-- Preconnect to External Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400;1,500&family=Nunito+Sans:ital,opsz,wght@0,6..12,300;0,6..12,400;0,6..12,500;0,6..12,600;1,6..12,400&display=swap" rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Church",
        "name": "Kiwi Church",
        "alternateName": "Kiwi Church NZ",
        "url": "https://kiwichurch.org.nz",
        "logo": "https://kiwichurch.org.nz/icons/icon-512.png",
        "description": "A network of small group Christian communities in Christchurch, New Zealand. We gather around tables, share meals, and explore faith together.",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Christchurch",
            "addressRegion": "Canterbury",
            "addressCountry": "NZ"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": -43.5321,
            "longitude": 172.6362
        },
        "areaServed": {
            "@type": "City",
            "name": "Christchurch"
        },
        "sameAs": [],
        "openingHours": "Mo-Su",
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "general inquiry",
            "email": "hello@kiwichurch.org.nz"
        }
    }
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Kiwi Church",
        "url": "https://kiwichurch.org.nz",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://kiwichurch.org.nz/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">
        <div class="header-inner">
            <a href="index.html" class="header-logo">
                <img src="KiwiChurch_Old_White_Shadow.png" alt="Kiwi Church Logo" id="header-logo-img">
            </a>

            <nav class="nav-desktop" id="nav-desktop" aria-label="Main navigation">
                <a href="index.html" class="nav-link active">Home</a>
                <a href="about.html" class="nav-link">About</a>
                <a href="communities.html" class="nav-link">Communities</a>
                <a href="calendar.html" class="nav-link">Calendar</a>
                <a href="kete.html" class="nav-link">Kete</a>
                <a href="resources.html" class="nav-link">Resources</a>
                <a href="giving.html" class="nav-link">Giving</a>
                <a href="portal.html" class="btn btn-outline">Portal</a>
            </nav>

            <button class="mobile-menu-btn" id="mobile-menu-btn" onclick="toggleMobileMenu()" aria-label="Toggle mobile menu" aria-expanded="false">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
        </div>
    </header>

    <!-- Mobile Navigation -->
    <nav class="mobile-nav" id="mobile-nav" aria-label="Mobile navigation">
        <a href="index.html" class="mobile-nav-link">Home</a>
        <a href="about.html" class="mobile-nav-link">About</a>
        <a href="communities.html" class="mobile-nav-link">Communities</a>
        <a href="calendar.html" class="mobile-nav-link">Calendar</a>
        <a href="kete.html" class="mobile-nav-link">Kete</a>
        <a href="resources.html" class="mobile-nav-link">Resources</a>
        <a href="giving.html" class="mobile-nav-link">Giving</a>
        <a href="portal.html" class="mobile-nav-link">Member Portal</a>
    </nav>

    <!-- Main Content -->
    <main id="main">
        <!-- Hero Section -->
        <section class="hero" aria-label="Welcome">
            <div class="hero-bg">
                <img src="HansonsLaneOpening-2131a.jpg" alt="Kiwi Church community gathering around a table" loading="eager">
            </div>
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <img src="KiwiChurch_Old_White_Shadow.png" alt="" class="hero-logo" aria-hidden="true">
                <h1 class="hero-title">Welcome to the Table</h1>
                <p class="hero-subtitle">"A desire for faith, meaning, community and authentic relationship"</p>
                <div class="hero-actions">
                    <a href="communities.html" class="btn btn-primary btn-lg">Find a Community</a>
                    <a href="about.html" class="btn btn-outline btn-lg">Learn More</a>
                </div>
            </div>
            <div class="hero-scroll" aria-hidden="true">
                <span>Scroll</span>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
            </div>
        </section>

        <!-- Introduction Section -->
        <section class="section" aria-labelledby="intro-heading">
            <div class="container">
                <div class="section-header">
                    <span class="section-label">Our Heart</span>
                    <h2 class="section-title" id="intro-heading">Church Around the Table</h2>
                    <p class="section-desc">We believe that faith grows best in community. Our gatherings are intimate, authentic, and centred around shared meals and meaningful conversation.</p>
                </div>

                <div class="features-grid">
                    <article class="feature-card">
                        <div class="feature-card-image">
                            <img src="HansonsLaneOpening-2139.jpg" alt="Small group gathering in a home setting" loading="lazy">
                        </div>
                        <div class="feature-card-content">
                            <h3 class="feature-card-title">Small Groups</h3>
                            <p class="feature-card-text">Our gatherings meet in homes across Christchurch, creating spaces where everyone belongs and everyone is known.</p>
                        </div>
                    </article>

                    <article class="feature-card">
                        <div class="feature-card-image" style="background: linear-gradient(135deg, var(--color-sage) 0%, var(--color-forest) 100%);">
                        </div>
                        <div class="feature-card-content">
                            <h3 class="feature-card-title">Shared Meals</h3>
                            <p class="feature-card-text">We gather around tables to share food, stories, and life together. Communion isn't just a ritual - it's how we live.</p>
                        </div>
                    </article>

                    <article class="feature-card">
                        <div class="feature-card-image" style="background: linear-gradient(135deg, var(--color-terracotta) 0%, var(--color-gold) 100%);">
                        </div>
                        <div class="feature-card-content">
                            <h3 class="feature-card-title">Real Faith</h3>
                            <p class="feature-card-text">We ask hard questions, embrace doubt, and seek authentic spirituality that makes a difference in everyday life.</p>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <!-- Coming Up Section -->
        <section class="section section-sage" aria-labelledby="events-heading">
            <div class="container">
                <div class="section-header">
                    <span class="section-label">What's On</span>
                    <h2 class="section-title" id="events-heading">Coming Up</h2>
                    <p class="section-desc">Find out what's happening across our communities this week.</p>
                </div>

                <div class="coming-up-grid" id="upcoming-events">
                    <!-- Events populated by JavaScript -->
                </div>

                <div style="text-align: center; margin-top: 2rem;">
                    <a href="calendar.html" class="btn btn-primary">View Full Calendar</a>
                </div>
            </div>
        </section>

        <!-- Communities Preview -->
        <section class="section" aria-labelledby="communities-heading">
            <div class="container">
                <div class="section-header">
                    <span class="section-label">Our Communities</span>
                    <h2 class="section-title" id="communities-heading">Find Your Place</h2>
                    <p class="section-desc">We have several small group communities meeting throughout Christchurch. Each has its own rhythm and flavour.</p>
                </div>

                <div class="gatherings-grid" id="gatherings-preview">
                    <!-- Gatherings populated by JavaScript -->
                </div>

                <div style="text-align: center; margin-top: 2rem;">
                    <a href="communities.html" class="btn btn-primary">Explore All Communities</a>
                </div>
            </div>
        </section>

        <!-- Latest from Kete -->
        <section class="section section-dark" aria-labelledby="kete-heading">
            <div class="container">
                <div class="section-header">
                    <span class="section-label" style="color: var(--color-gold);">From the Kete</span>
                    <h2 class="section-title" id="kete-heading">Stories & Reflections</h2>
                    <p class="section-desc">Thoughts, devotions, and updates from our community.</p>
                </div>

                <div class="blog-grid" id="kete-preview">
                    <!-- Blog posts populated by JavaScript -->
                </div>

                <div style="text-align: center; margin-top: 2rem;">
                    <a href="kete.html" class="btn btn-secondary">Read More</a>
                </div>
            </div>
        </section>

        <!-- Call to Action -->
        <section class="section section-lg" aria-labelledby="cta-heading">
            <div class="container-sm" style="text-align: center;">
                <h2 class="section-title" id="cta-heading">Ready to Join Us?</h2>
                <p style="font-size: 1.125rem; color: var(--color-text-light); margin-bottom: 2rem;">
                    Whether you're exploring faith for the first time, returning after time away, or looking for a new community - there's a place for you at the table.
                </p>
                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <a href="communities.html" class="btn btn-primary btn-lg">Find a Community</a>
                    <a href="portal.html" class="btn btn-outline-dark btn-lg">Member Login</a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <img src="KiwiChurch_Old_White_Shadow.png" alt="Kiwi Church">
                <p>A network of small group Christian communities in Christchurch, New Zealand. Gathering around tables, sharing meals, and exploring faith together.</p>
            </div>
            <div class="footer-nav">
                <h4 class="footer-title">Explore</h4>
                <ul class="footer-links">
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="communities.html">Communities</a></li>
                    <li><a href="calendar.html">Calendar</a></li>
                    <li><a href="kete.html">Kete</a></li>
                </ul>
            </div>
            <div class="footer-nav">
                <h4 class="footer-title">Connect</h4>
                <ul class="footer-links">
                    <li><a href="resources.html">Resources</a></li>
                    <li><a href="giving.html">Giving</a></li>
                    <li><a href="portal.html">Member Portal</a></li>
                </ul>
            </div>
            <div class="footer-contact-section">
                <h4 class="footer-title">Contact</h4>
                <div class="footer-contact">
                    <p>Christchurch, New Zealand</p>
                    <p><a href="mailto:hello@kiwichurch.org.nz">hello@kiwichurch.org.nz</a></p>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Kiwi Church. All rights reserved.</p>
        </div>
    </footer>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container" aria-live="polite"></div>

    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script>
        // Sample data for the homepage
        const sampleEvents = [
            {
                id: 'event-1',
                title: 'Thin Place Gathering',
                gatheringName: 'Thin Place',
                date: getNextDate(3),
                time: '18:30',
                location: 'Hansons Lane',
                isPublic: true
            },
            {
                id: 'event-2',
                title: 'Online Prayer',
                gatheringName: 'Online Prayer',
                date: getNextDate(1),
                time: '07:00',
                location: 'Zoom',
                isPublic: true
            },
            {
                id: 'event-3',
                title: 'Prestons Community',
                gatheringName: 'Prestons',
                date: getNextDate(5),
                time: '18:00',
                location: 'Prestons',
                isPublic: false
            }
        ];

        const sampleGatherings = [
            {
                id: 'gathering-1',
                name: 'Thin Place',
                description: 'A contemplative gathering exploring Celtic spirituality and the spaces where heaven and earth feel close.',
                rhythm: 'Fortnightly Wednesdays',
                color: '#1a3a2f'
            },
            {
                id: 'gathering-2',
                name: 'Online Prayer',
                description: 'Start your day with prayer and reflection. A simple, accessible way to connect with community.',
                rhythm: 'Weekly - Weekday mornings',
                color: '#7d9a87'
            },
            {
                id: 'gathering-3',
                name: 'Prestons Community',
                description: 'A family-friendly gathering in the Prestons area. Shared meals, kids welcome, real conversations.',
                rhythm: 'Weekly Fridays',
                color: '#c17f59'
            }
        ];

        const sampleKete = [
            {
                id: 'kete-1',
                title: 'Finding Sacred in the Ordinary',
                excerpt: 'Reflections on discovering God in everyday moments and mundane routines...',
                date: getNextDate(-5),
                author: 'Darryl Tempero'
            },
            {
                id: 'kete-2',
                title: 'Community Update: Winter 2024',
                excerpt: 'A look back at what God has been doing in our communities over the past season...',
                date: getNextDate(-12),
                author: 'Kiwi Church Team'
            },
            {
                id: 'kete-3',
                title: 'The Art of Showing Up',
                excerpt: 'Why consistent presence matters more than perfect attendance...',
                date: getNextDate(-20),
                author: 'Sarah Utting'
            }
        ];

        // Helper function to get dates relative to today
        function getNextDate(daysFromNow) {
            const date = new Date();
            date.setDate(date.getDate() + daysFromNow);
            return date.toISOString().split('T')[0];
        }

        // Render upcoming events
        function renderUpcomingEvents() {
            const container = document.getElementById('upcoming-events');
            if (!container) return;

            container.innerHTML = sampleEvents.map(event => {
                const date = new Date(event.date);
                const day = date.getDate();
                const month = date.toLocaleDateString('en-NZ', { month: 'short' });

                return `
                    <article class="event-card">
                        <div class="event-date">
                            <span class="event-date-day">${day}</span>
                            <span class="event-date-month">${month}</span>
                        </div>
                        <div class="event-info">
                            <h4>${event.title}</h4>
                            <div class="event-meta">
                                <span class="event-meta-item">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <polyline points="12 6 12 12 16 14"></polyline>
                                    </svg>
                                    ${KiwiChurch.formatTime(event.time)}
                                </span>
                                <span class="event-meta-item">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                        <circle cx="12" cy="10" r="3"></circle>
                                    </svg>
                                    ${event.location}
                                </span>
                            </div>
                        </div>
                        <span class="event-badge ${event.isPublic ? '' : 'private'}">${event.isPublic ? 'Open' : 'Members'}</span>
                    </article>
                `;
            }).join('');
        }

        // Render gatherings preview
        function renderGatheringsPreview() {
            const container = document.getElementById('gatherings-preview');
            if (!container) return;

            container.innerHTML = sampleGatherings.map(gathering => `
                <article class="gathering-card">
                    <div class="gathering-card-header" style="background: linear-gradient(135deg, ${gathering.color} 0%, ${gathering.color}cc 100%);">
                        <h3>${gathering.name}</h3>
                    </div>
                    <div class="gathering-card-body">
                        <span class="gathering-card-rhythm">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            ${gathering.rhythm}
                        </span>
                        <p class="gathering-card-desc">${gathering.description}</p>
                        <a href="communities.html#${gathering.id}" class="btn btn-ghost btn-sm">Learn More</a>
                    </div>
                </article>
            `).join('');
        }

        // Render kete preview
        function renderKetePreview() {
            const container = document.getElementById('kete-preview');
            if (!container) return;

            container.innerHTML = sampleKete.map(post => {
                const date = new Date(post.date);
                const formattedDate = date.toLocaleDateString('en-NZ', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });

                return `
                    <article class="blog-card">
                        <div class="blog-card-image"></div>
                        <div class="blog-card-content">
                            <span class="blog-card-date">${formattedDate}</span>
                            <h3 class="blog-card-title">${post.title}</h3>
                            <p class="blog-card-excerpt">${post.excerpt}</p>
                            <a href="kete.html#${post.id}" class="btn btn-ghost btn-sm">Read More</a>
                        </div>
                    </article>
                `;
            }).join('');
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            renderUpcomingEvents();
            renderGatheringsPreview();
            renderKetePreview();
        });
    </script>
</body>
</html>
